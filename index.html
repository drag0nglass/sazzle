<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>SAZZLE Index</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	
	<link type="text/css" rel="stylesheet" href="styles/site.flatly.css">
	
</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top ">
		<div class="navbar-inner">
			<a class="brand" href="index.html">SAZZLE</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="sazzle.html">sazzle</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="SASLClientFactory.html">SASLClientFactory</a>
						</li>
						
						<li>
							<a href="SASLServerFactory.html">SASLServerFactory</a>
						</li>
						
						<li>
							<a href="sazzle.SASLFactory.html">SASLFactory</a>
						</li>
						
						<li>
							<a href="sazzle.SASLSession.html">SASLSession</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="global.html#client">client</a>
						</li>
						
						<li>
							<a href="global.html#server">server</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
		<div class="span8">
			
				<div id="main">
					


	
	<span class="page-title">Index</span>
	
	












	
	





    <section>
        <article><h1>SAZZLE - The SASL library with <em>PIZZAZZ</em>!</h1>
<p><strong>SAZZLE</strong> is a pure JavaScript library for the Simple Authentication and Security Layer (<a href="http://tools.ietf.org/html/rfc4422">SASL</a>). The goal is to provide a simple promised-based framework for processing SASL challenges and responses.</p>
<p>This library includes built-in support for <a href="https://tools.ietf.org/html/rfc4616">PLAIN</a> and <a href="http://tools.ietf.org/html/rfc5802">SCRAM-SHA1</a>, while additional (or alternative) mechanisms can be added as needed.</p>
<p>This software is liecensed under the terms of the <a href="http://opensource.org/licenses/MIT">MIT License</a>.</p>
<h2>Installation</h2>
<p>To install the current stable release:</p>
<pre><code>npm install sazzle</code></pre>
<p>To install from sources:</p>
<pre><code>git clone git@github.com:linuxwolf/sazzle.git
npm install ./sazzle</code></pre>
<h2>Usage</h2>
<p>TL;DR -- ficticious client version:</p>
<pre><code>var sazzle = require(&quot;sazzle&quot;);

// ... once the server's mechanism list is received
// create a SASL session based on the intersection of
// server-offered and client-enabled mechanisms ...
var ssesssion = sazzle.client.create(mechlist, {
    username:&quot;bilbo.baggins&quot;,
    password:&quot;Th3r3 &amp; 84CK Aga!n&quot;
});

// call step() to get started ...
ssession.step().then(function(output) {
    // NOTE: output is a Buffer
    socket.send(output);
});

var onSASL = function(input) {
    // call step() to keep going, until completed!
    ssession.step(input).then(function(output) {
        if (output) {
            socket.send(outupt);
        }
        if (ssession.completed) {
            // YAY!  we're authenticated!
            console.log(&quot;auth succeeded (username == %s; authzid == %s)&quot;,
                        ssession.properties.username,
                        ssession.properties.authzid);
            socket.removeListener(&quot;data&quot;, onSASL);
            // ... move on ...
        }
    }, function(err) {
        // BOO! We've failed!
        console.log(&quot;auth failed: %s&quot;, err.message);
        // c'est la vie
    });
};
socket.on(&quot;data&quot;, onSASL);</code></pre>
<p>TL;DR -- ficticious server version:</p>
<pre><code>var sazzle = require(&quot;sazzle&quot;),
    q = require(&quot;q&quot;);

/// ... once we've got something, tell the client the offered mechanisms
socket.send(new Buffer(sazzle.server.enabled.join(&quot; &quot;)));

var ssession;
socket.once(&quot;data&quot;, function(input) {
    // protocol-specific parse of input
    // into mechanism name and initial data
    ssession = sazzle.server.create(input.name, {
        password: function(config, username) {
            // lookup password, return in a promise (or directly)
            return q.resolve(passwords[username]);
        }
    });

    // process client initial
    ssession.step(input.data).then(function(output) {
        socket.send(output);

        function onSASL(output) {
            ssession.step(input).then(function(output) {
                if (output) {
                    socket.send(output);
                }
                if (ssession.completed) {
                    // YAY!  we're authenticated!
                    console.log(&quot;auth succeeded (username == %s; authzid == %s)&quot;,
                                ssession.properties.username,
                                ssession.properties.authzid);
                    socket.removeListener(&quot;data&quot;, onSASL);
                    // ... move on ...
                }
            }, function(err) {
                // BOO! We've failed!
                console.log(&quot;auth failed: %s&quot;, err.message);
                // c'est la vie
            });
        };
        socket.on(&quot;data&quot;, onSASL);
    });
});</code></pre></article>
    </section>







				</div>

				<div class="clearfix"></div>
				<footer>
					
					
		<span class="copyright">
		Â© 2012-2014, Matthew A. Miller
		</span>
					<br />
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a>
		on Wed Apr 30 2014 17:36:13 GMT-0600 (MDT) using the <a href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<div class="span3">
				<div id="toc"></div>
			</div>
			
			<br clear="both">
		</div>

	</div>
	<script src="scripts/sunlight.js"></script>
	<script src="scripts/sunlight.javascript.js"></script>
	<script src="scripts/sunlight-plugin.doclinks.js"></script>
	<script src="scripts/sunlight-plugin.linenumbers.js"></script>
	<script src="scripts/sunlight-plugin.menu.js"></script>
	<script src="scripts/jquery.min.js"></script>
	<script src="scripts/jquery.scrollTo.js"></script>
	<script src="scripts/jquery.localScroll.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>


	<script>  Sunlight.highlightAll({lineNumbers:,  showMenu: true, enableDoclinks :true}); </script>

	<script>
		$( function () {
			$( "#toc" ).toc( {
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : 60
			} );
			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );

		} );
	</script>

	

</body>
</html>